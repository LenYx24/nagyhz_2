\doxysection{map.\+hpp}
\hypertarget{map_8hpp_source}{}\label{map_8hpp_source}\index{include/map.hpp@{include/map.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ MAP\_HPP}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ MAP\_HPP}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}gameobjects.hpp"{}}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ <filesystem>}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00007\ \textcolor{keyword}{enum\ class}\ Side;}
\DoxyCodeLine{00011\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classCell}{Cell}}\ \{}
\DoxyCodeLine{00012\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00016\ \ \ \mbox{\hyperlink{classCell_a394510643e8664cf12b5efaf5cb99f71}{Cell}}():selected(false)\{\}}
\DoxyCodeLine{00020\ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classCell_a9fa559f7a28e2b4336c6879ca09304d8}{\string~Cell}}();}
\DoxyCodeLine{00025\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classCell_a1c1d1049c7f42c429cd0ab2e283b91aa}{should\_update\_vision\_around}}(Side\ side\_);}
\DoxyCodeLine{00029\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classCell_ab7f57d498322058353968c062c50db65}{can\_buy\_items}}()\textcolor{keyword}{const}\{\textcolor{keywordflow}{return}\ shop;\}}
\DoxyCodeLine{00034\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a2585861f5ae7b78daf31d08f3518455f}{set\_shop}}(\textcolor{keywordtype}{bool}\ shop\_)\{shop=shop\_;\}}
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a5cf7f509e91c5c4dcebd252fd6f49f1a}{set\_selected}}();}
\DoxyCodeLine{00042\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classCell_abada755f062603f6b8d0881b64172827}{is\_selected}}()\textcolor{keyword}{const}\{\textcolor{keywordflow}{return}\ selected;\}}
\DoxyCodeLine{00046\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classCell_a6f463fa9b9b1781f730a76dab102b054}{can\_move\_here}}()\textcolor{keyword}{const}\{\textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\};}
\DoxyCodeLine{00050\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classCell_a5a109095f5efcf54ceeda3b1f932464c}{can\_ward\_here}}()\textcolor{keyword}{const}\{\textcolor{keywordflow}{return}\ \textcolor{keyword}{true};\}}
\DoxyCodeLine{00054\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classCell_ae938a719ef7ccf194e7e47e545c0af7e}{can\_attack\_entity}}()\textcolor{keyword}{const}\{\textcolor{keywordflow}{return}\ !entities.empty();\}}
\DoxyCodeLine{00059\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_ace52acce42f79804cf029500059c5b7d}{add\_entity}}(\mbox{\hyperlink{classEntity}{Entity}}\ *entity);}
\DoxyCodeLine{00064\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_ab698124e35a36f137bceb940032ad37c}{remove\_entity}}(\mbox{\hyperlink{classEntity}{Entity}}\ *entity);}
\DoxyCodeLine{00069\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a98eea2b7c7d463be35a13e6bcdc17e35}{set\_color}}(sf::Color\ color);}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classCell_a12bbcb75a82637ebb745f14f7931f326}{contains}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ x,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ y);}
\DoxyCodeLine{00081\ \ \ \mbox{\hyperlink{classEntity}{Entity}}\ *\mbox{\hyperlink{classCell_ad5c2d61fb833768a05a47a84347e559c}{get\_entity\_clicked}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ x,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ y);}
\DoxyCodeLine{00085\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a2a837ca110ca3db315e966f47bd0dd3e}{set\_highlighted}}();}
\DoxyCodeLine{00089\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a103c3bb0e9daaecba1efd0193ed26b28}{reset\_color}}();}
\DoxyCodeLine{00094\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a37b09fbf8cb0efb021382356a6272870}{set\_vision}}(\textcolor{keywordtype}{bool}\ has\_vision);}
\DoxyCodeLine{00099\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a6ec40de8f0efd55091ce2e7c708e0429}{set\_position}}(sf::Vector2f\ pos);}
\DoxyCodeLine{00104\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_ad054dd2dc7324adc35d86feeba5b1723}{draw}}(sf::RenderWindow\&\ window);}
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a2b65077128c119166d1fe937ccb51536}{update\_shape}}(sf::Vector2f\ map\_position,\ sf::Vector2f\ cell\_size,\ \textcolor{keywordtype}{float}\ margin=\ 2);}
\DoxyCodeLine{00115\ \ \ sf::Vector2f\ \mbox{\hyperlink{classCell_ac1285fee9d5f3e20ace1338bc308dbb1}{get\_index}}()\textcolor{keyword}{const}\{\textcolor{keywordflow}{return}\ indicies;\}}
\DoxyCodeLine{00120\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a10c9318f17ed0237c808ff60162fc3b6}{update\_entities\_shape}}(sf::Vector2f\ mappos);}
\DoxyCodeLine{00124\ \ \ \mbox{\hyperlink{classEntity}{Entity}}\ *\mbox{\hyperlink{classCell_a9d9daa2610738082dc19002904fffa53}{get\_first\_entity}}()\{\textcolor{keywordflow}{if}(entities.empty())\textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{return}\ entities[0];\}}
\DoxyCodeLine{00129\ \ \ \mbox{\hyperlink{classEntity}{Entity}}\ *\mbox{\hyperlink{classCell_aab14dd312caafaccc4398a2c9562e657}{get\_attackable\_entity}}(Side\ side\_);}
\DoxyCodeLine{00133\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classCell_a321a4a26457fa7bf599ec7ac4dfc09b2}{unselect}}();}
\DoxyCodeLine{00134\ \ }
\DoxyCodeLine{00135\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00136\ \ \ std::vector<Entity\ *>\ entities;}
\DoxyCodeLine{00137\ \ \ sf::Color\ color;}
\DoxyCodeLine{00138\ \ \ sf::Vector2f\ pos;}
\DoxyCodeLine{00139\ \ \ sf::Vector2f\ indicies;\ \textcolor{comment}{//\ basically\ the\ index\ +\ 1\ coordinates\ of\ the\ cell,\ it's\ useful\ if\ we\ want\ to\ calculate\ things}}
\DoxyCodeLine{00140\ \ \ sf::RectangleShape\ shape;}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \textcolor{keywordtype}{bool}\ shop;}
\DoxyCodeLine{00143\ \ \ \textcolor{keywordtype}{bool}\ selected;}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \textcolor{keyword}{static}\ sf::Uint8\ has\_vision\_opacity;}
\DoxyCodeLine{00146\ \ \ \textcolor{keyword}{static}\ sf::Uint8\ no\_vision\_opacity;}
\DoxyCodeLine{00147\ \ \ \textcolor{keyword}{static}\ sf::Uint8\ selected\_opacity;}
\DoxyCodeLine{00148\ \};}
\DoxyCodeLine{00152\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classGround}{Ground}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classCell}{Cell}}\ \{}
\DoxyCodeLine{00153\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00154\ \ \ \mbox{\hyperlink{classGround}{Ground}}();}
\DoxyCodeLine{00155\ \};}
\DoxyCodeLine{00159\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classRiver}{River}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classGround}{Ground}}\ \{}
\DoxyCodeLine{00160\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00161\ \ \ \mbox{\hyperlink{classRiver}{River}}();}
\DoxyCodeLine{00162\ \};}
\DoxyCodeLine{00166\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classWall}{Wall}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classCell}{Cell}}\ \{}
\DoxyCodeLine{00167\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00168\ \ \ \mbox{\hyperlink{classWall}{Wall}}();}
\DoxyCodeLine{00172\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classWall_ae6c225b8a0bbc70858410e1dd397ac6b}{can\_move\_here}}()\textcolor{keyword}{const\ override}\{\textcolor{keywordflow}{return}\ \textcolor{keyword}{false};\};}
\DoxyCodeLine{00173\ \};}
\DoxyCodeLine{00177\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classBush}{Bush}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classGround}{Ground}}\ \{}
\DoxyCodeLine{00178\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00179\ \ \ \mbox{\hyperlink{classBush}{Bush}}();}
\DoxyCodeLine{00180\ \};}
\DoxyCodeLine{00184\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classSpawnArea}{SpawnArea}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classGround}{Ground}}\ \{}
\DoxyCodeLine{00185\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00186\ \ \ \mbox{\hyperlink{classSpawnArea}{SpawnArea}}();}
\DoxyCodeLine{00187\ \};}
\DoxyCodeLine{00191\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classMap}{Map}}\ \{}
\DoxyCodeLine{00192\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00197\ \ \ \mbox{\hyperlink{classMap_a25aebc676991636f499176538e346d65}{Map}}(sf::Vector2f\ pos);}
\DoxyCodeLine{00201\ \ \ \mbox{\hyperlink{classMap_aa403fbe09394ccf39747588f5168e3b2}{\string~Map}}();}
\DoxyCodeLine{00206\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_ab9e768d51062f069be46203e4e06643e}{draw}}(sf::RenderWindow\&\ window);}
\DoxyCodeLine{00212\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_a5b11fe489d8d67b8834ae0f1ec58fee5}{spawn}}(\mbox{\hyperlink{classEntity}{Entity}}\ *entity,\ sf::Vector2f\ pos);}
\DoxyCodeLine{00218\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_a1e2e5393e24fbd531d52cebc68ffd6cd}{de\_spawn}}(\mbox{\hyperlink{classEntity}{Entity}}\ *entity,\ sf::Vector2f\ pos);}
\DoxyCodeLine{00224\ \ \ \mbox{\hyperlink{classCell}{Cell}}\ *\mbox{\hyperlink{classMap_ac54dd685ca1f9120a3f2bfd78cdf5d45}{get\_clicked\_cell}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ x,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ y);}
\DoxyCodeLine{00230\ \ \ std::vector<Cell\ *>\ \mbox{\hyperlink{classMap_aec8013488c08ac30080b1635ad54175a}{getnearbycells}}(sf::Vector2f\ pos,\ \textcolor{keywordtype}{int}\ distance\ =\ 1);}
\DoxyCodeLine{00234\ \ \ [[nodiscard]]\ sf::Vector2u\ \mbox{\hyperlink{classMap_a4f04607d15535e2080b3d2cf4fe8ccea}{get\_cell\_grid\_size}}()\textcolor{keyword}{const}\{\textcolor{keywordflow}{return}\ size;\}}
\DoxyCodeLine{00238\ \ \ \mbox{\hyperlink{classChampion}{Champion}}\ *\mbox{\hyperlink{classMap_a88cafdf3ed71643be56f8b19ba6bde8f}{getselectedchamp}}();}
\DoxyCodeLine{00243\ \ \ \mbox{\hyperlink{classCell}{Cell}}\ *\mbox{\hyperlink{classMap_a0037d0788ff22f25ba4da5a73bb56a9d}{getcell}}(sf::Vector2f\ pos)\{}
\DoxyCodeLine{00244\ \ \ \ \ posindex\ p\_index\ =\ toposindex(pos);}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keywordflow}{return}\ cells[p\_index.i][p\_index.j];\}}
\DoxyCodeLine{00251\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ P>}
\DoxyCodeLine{00252\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_a9d7cdf431ab55abaa37ed64b73a30ac8}{setselectednearbycells}}(\mbox{\hyperlink{classChampion}{Champion}}\ *champ,\ P\ pred);}
\DoxyCodeLine{00257\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_a6b06df22d5ce9ec19e70cb511297cc5e}{select\_accessible\_cells}}(\mbox{\hyperlink{classChampion}{Champion}}\ *champ);}
\DoxyCodeLine{00262\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_a4aa01120b8afad453406badaadee6b43}{select\_attackable\_entities}}(\mbox{\hyperlink{classChampion}{Champion}}\ *champ);}
\DoxyCodeLine{00267\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_a39d8039f9cd1e28069aea0cdfd1b8344}{select\_wardable\_cells}}(\mbox{\hyperlink{classChampion}{Champion}}\ *c);}
\DoxyCodeLine{00272\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classMap_a4cfd9bc5987a8e601704848d055b38d2}{inboundsrow}}(\textcolor{keywordtype}{int}\ p)\{\textcolor{keywordflow}{return}\ 0\ <=\ p\ \&\&\ p\ <\ static\_cast<int>(size.x);\}}
\DoxyCodeLine{00277\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classMap_a3df8df2df588afb5652e0f54945de88a}{inboundscol}}(\textcolor{keywordtype}{int}\ p)\{\textcolor{keywordflow}{return}\ 0\ <=\ p\ \&\&\ p\ <\ static\_cast<int>(size.x);\}}
\DoxyCodeLine{00284\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_ac256cdb54332249076724b12a56ec473}{move}}(\mbox{\hyperlink{classEntity}{Entity}}\ *entity,\ sf::Vector2f\ from,\ sf::Vector2f\ to);}
\DoxyCodeLine{00288\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_aa8959ddacfa305fe7d8685a9f76a0c18}{reset\_cell\_selections}}();}
\DoxyCodeLine{00292\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_a5944276c87b2971af21040bd4cc56a61}{update\_vision}}();}
\DoxyCodeLine{00297\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_a18415667cf6559f7e24f76805f39dfd7}{update\_vision\_side}}(Side\ side\_)\{vision\_side\ =\ side\_;\}}
\DoxyCodeLine{00301\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classMap_acf3a00518cc04200c517b64a571402e1}{check\_game\_end}}();}
\DoxyCodeLine{00305\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classMap_a7c8a0985008629178c203d2fcca47355}{did\_game\_end}}()\{\mbox{\hyperlink{classMap_acf3a00518cc04200c517b64a571402e1}{check\_game\_end}}();\textcolor{keywordflow}{return}\ game\_end;\}}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00308\ \ \ \textcolor{keyword}{struct\ }posindex\{}
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ i,\ j;}
\DoxyCodeLine{00310\ \ \ \};}
\DoxyCodeLine{00311\ \ \ posindex\ toposindex(sf::Vector2f\ pos);}
\DoxyCodeLine{00312\ \ \ \textcolor{keywordtype}{bool}\ game\_end\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00313\ \ \ Side\ vision\_side;\ \textcolor{comment}{//\ the\ side\ which\ has\ vision}}
\DoxyCodeLine{00314\ \ \ sf::Vector2f\ position;}
\DoxyCodeLine{00315\ \ \ sf::Vector2u\ size\ =\ \{20,20\};}
\DoxyCodeLine{00316\ \ \ sf::Vector2f\ cellsize\ =\ \{30,30\};}
\DoxyCodeLine{00317\ \ \ std::vector<Entity\ *>\ nexuses;}
\DoxyCodeLine{00318\ \textcolor{comment}{//\ Todo:\ use\ std\ array}}
\DoxyCodeLine{00319\ \ \ \mbox{\hyperlink{classCell}{Cell}}\ *cells[20][20];}
\DoxyCodeLine{00320\ \};}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
